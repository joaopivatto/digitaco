<app-header />

<div class="rounded-lg overflow-hidden shadow-lg bg-white p-8 min-w-[500px] md:min-w-[700px] lg:min-w-[1000px] mt-16">
  <div class="grid grid-cols-[auto_1fr_auto] justify-between items-center gap-4">
    <p-button label="Voltar" icon="pi pi-arrow-left" [rounded]="true" severity="secondary" variant="outlined" routerLink="/home" />
    <div class="flex  items-center justify-center gap-4">
      <i class="pi pi-users" style="font-size: 3rem; color: #a855f7;"></i>
      <h3 class="font-bold text-xl digitaco text-center cursor-pointer">
        Ligas
      </h3>
    </div>
    <p-button label="Criar Liga" icon="pi pi-plus" severity="help" (click)="showDialog()" />
  </div>
  <div class="mt-8">
    <p-tabs value="0">
      <p-tablist>
        <p-tab value="0">Minhas Ligas ({{myLeagues.length}})</p-tab>
        <p-tab value="1">Outras Ligas ({{otherLeagues.length}})</p-tab>
      </p-tablist>
      <p-tabpanels>
        <p-tabpanel value="0">
          <p-virtualscroller [items]="myLeagues" [itemSize]="50" scrollHeight="50vh">
            <ng-template #item let-item let-options="options">
              <div class="flex items-center p-2 w-full">
                <div class="bg-gray-200 p-4 rounded-lg w-full flex justify-between">
                  <div>
                    <h4 class="font-bold text-lg digitaco">{{ item.name }}</h4>
                    <div class="flex items-center gap-2 mt-2">
                      <i class="pi pi-users" style="font-size: 1rem;"></i>
                      <span class="text-sm text-gray-500">3 Membros </span>
                      <span class="text-sm text-gray-500 ml-4">Sua posição: 1º</span>
                    </div>
                  </div>
                  <div>
                    <p class="font-bold text-lg digitaco">222 012</p>
                    <p class="text-sm text-gray-500 text-right">pontos</p>
                  </div>
                </div>
              </div>
            </ng-template>
          </p-virtualscroller>
          <!-- <div class="flex flex-col gap-4">
            </div> -->
        </p-tabpanel>
        <p-tabpanel value="1">
          <p-virtualscroller [items]="otherLeagues" [itemSize]="50" scrollHeight="50vh">
            <ng-template #item let-item let-options="options">
              <div class="flex items-center p-2 w-full">
                <div class="bg-gray-200 p-4 rounded-lg w-full flex justify-between">
                  <div>
                    <h4 class="font-bold text-lg digitaco">{{ item.name }}</h4>
                    <div class="flex items-center gap-2 mt-2">
                      <i class="pi pi-users" style="font-size: 1rem;"></i>
                      <span class="text-sm text-gray-500">{{item.members}} Membros </span>
                    </div>
                  </div>
                  <div class="flex items-center justify-end">
                    <p-button label="Entrar" icon="pi pi-lock" severity="help" />
                  </div>
                </div>
              </div>
            </ng-template>
          </p-virtualscroller>
        </p-tabpanel>
      </p-tabpanels>
    </p-tabs>
  </div>
  TODO: Mostrar Informações corretas em minhas Ligas, filtrar ligas que o usuário não está, fechar o modal quando a liga for adicionada, visualizar a liga e entrar na liga
</div>

<p-dialog header="Criar Liga" [modal]="true" [(visible)]="creatingLeague" [style]="{ width: '25rem' }">
  <app-new-league />
</p-dialog>
